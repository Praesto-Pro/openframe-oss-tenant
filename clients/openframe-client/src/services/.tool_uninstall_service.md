<!-- source-hash: 2f6652b6525772ae770ea414765e7ad9 -->
A service for uninstalling tools from the Flamingo MSP platform, handling process termination, command execution, and cleanup of installation artifacts including macOS app bundles.

## Key Components

**ToolUninstallService**
- `uninstall_all()` - Uninstalls all installed tools with immediate failure on any error
- `uninstall_tool()` - Uninstalls a single tool by stopping processes and executing uninstall commands
- `stop_tool_process()` - Terminates running tool processes before uninstallation
- `cleanup_gui_app_bundle()` - Removes GUI application bundles (macOS .app directories)
- `remove_macos_app_bundle()` - Platform-specific cleanup for macOS applications

**Dependencies**
- `InstalledToolsService` - Retrieves list of installed tools
- `ToolCommandParamsResolver` - Processes command parameter placeholders
- `ToolKillService` - Handles process termination
- `DirectoryManager` - Manages tool directory paths

## Usage Example

```rust
use crate::services::ToolUninstallService;

// Initialize the service with required dependencies
let uninstall_service = ToolUninstallService::new(
    installed_tools_service,
    command_params_resolver,
    tool_kill_service,
    directory_manager,
);

// Uninstall all tools (fails fast on any error)
match uninstall_service.uninstall_all().await {
    Ok(()) => println!("All tools uninstalled successfully"),
    Err(e) => eprintln!("Uninstallation failed: {:#}", e),
}
```

The service follows a fail-fast approach where any error during the uninstallation process causes immediate failure. It handles special cases like Fleet/osquery cleanup and provides platform-specific cleanup for macOS app bundles.