sequenceDiagram
    participant UI
    participant ApiClient
    participant AuthApiClient
    participant AuthServer

    UI->>ApiClient: Request /api/resource
    ApiClient->>Gateway: HTTP Request
    Gateway-->>ApiClient: 401 Unauthorized
    ApiClient->>AuthApiClient: refresh(tenantId)
    AuthApiClient->>AuthServer: POST /oauth/refresh
    AuthServer-->>AuthApiClient: New tokens
    AuthApiClient-->>ApiClient: Refresh success
    ApiClient->>Gateway: Retry original request
    Gateway-->>ApiClient: 200 OK
