flowchart LR
    Agent["Agent"] -->|"Heartbeat"| NATS["NATS"]
    NATS --> HeartbeatListener["Machine Heartbeat Listener"]
    HeartbeatListener --> MachineStatusService["Machine Status Service"]
    MachineStatusService --> Mongo[("MongoDB")]
