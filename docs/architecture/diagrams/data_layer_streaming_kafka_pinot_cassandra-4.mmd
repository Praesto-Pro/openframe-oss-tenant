flowchart TD
    UserAction["User or System Action"] --> MongoSave["Mongo Repository Save"]
    MongoSave --> Aspect["MachineTagEventAspect"]
    Aspect --> EventService["MachineTagEventServiceImpl"]
    EventService --> KafkaProducer["OssTenantKafkaProducer"]
    KafkaProducer --> KafkaTopic["Devices Topic"]
    KafkaTopic --> StreamProcessing["Stream Service"]
    StreamProcessing --> PinotIngestion["Pinot Real-Time Table"]
    StreamProcessing --> CassandraWrite["Cassandra Storage"]
    PinotIngestion --> QueryLayer["Pinot Repositories"]
