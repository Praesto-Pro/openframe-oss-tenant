flowchart TD
    subgraph Services["Service Layer"]
        ApiService["API Service Core"]
        StreamService["Stream Service Core"]
        ExternalApi["External API Service"]
    end

    subgraph DataCore["Data Layer Core"]
        CassandraConfigNode["Cassandra Configuration"]
        PinotConfigNode["Pinot Configuration"]
        PinotRepo["Pinot Client Log Repository"]
    end

    subgraph Storage["Storage Systems"]
        CassandraDB[("Cassandra Cluster")]
        PinotBroker[("Pinot Broker")]
        PinotController[("Pinot Controller")]
    end

    ApiService -->|"query logs"| PinotRepo
    StreamService -->|"persist distributed data"| CassandraConfigNode
    ExternalApi -->|"log analytics"| PinotRepo

    CassandraConfigNode --> CassandraDB
    PinotConfigNode --> PinotBroker
    PinotConfigNode --> PinotController
    PinotRepo --> PinotBroker
