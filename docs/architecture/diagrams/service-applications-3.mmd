sequenceDiagram
    participant Browser
    participant Gateway
    participant AuthServer as "Authorization Server"
    participant MongoDB

    Browser->>Gateway: Request protected resource
    Gateway->>AuthServer: Redirect to login
    Browser->>AuthServer: Submit credentials
    AuthServer->>MongoDB: Validate user
    AuthServer->>Browser: Issue OAuth token
    Browser->>Gateway: Call API with token
