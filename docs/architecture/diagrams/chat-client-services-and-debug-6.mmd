flowchart LR
    UI["UI Layer"] --> Service["Client Service"]
    Service --> Ensure["ensureTokenReady()"]
    Ensure --> Token["Token Service"]
    Service --> API["Backend Endpoint"]
