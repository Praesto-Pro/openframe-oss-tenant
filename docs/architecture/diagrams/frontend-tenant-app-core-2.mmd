sequenceDiagram
    participant UI
    participant ApiClient
    participant AuthApiClient
    participant AuthServer

    UI->>ApiClient: Request
    ApiClient->>AuthServer: API call
    AuthServer-->>ApiClient: 401 Unauthorized
    ApiClient->>AuthApiClient: refresh(tenantId)
    AuthApiClient->>AuthServer: POST /oauth/refresh
    AuthServer-->>AuthApiClient: New tokens
    AuthApiClient-->>ApiClient: refreshSuccess
    ApiClient->>AuthServer: Retry original request
    AuthServer-->>ApiClient: 200 OK
