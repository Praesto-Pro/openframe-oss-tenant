flowchart TD
    Client["WebSocket Client"] --> GatewayWS["WebSocket Gateway"]

    GatewayWS --> ApiWsFilter["Tool API WS Filter"]
    GatewayWS --> AgentWsFilter["Tool Agent WS Filter"]
    GatewayWS --> NatsRoute["NATS WS Route"]

    ApiWsFilter --> ToolApi["Tool API Backend"]
    AgentWsFilter --> ToolAgent["Tool Agent Backend"]
    NatsRoute --> NatsServer["NATS Server"]
