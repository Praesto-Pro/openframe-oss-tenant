<!-- source-hash: acffb220d4ac9b144d95b5b0b3e1e8b2 -->
A centralized Zustand store for managing Mingo AI assistant messages, dialogs, and real-time communication state. This store handles message persistence, streaming content, approval workflows, and dialog management across multiple conversations.

## Key Components

### Core State Management
- **messagesByDialog**: Map storing messages organized by dialog ID
- **activeDialogId**: Currently selected dialog identifier
- **dialogs**: Array of available dialog nodes
- **streamingMessages**: Real-time message streaming state per dialog
- **segmentAccumulators**: Message segment processors for handling complex content

### Real-time Features
- **typingStates**: Typing indicators per dialog
- **unreadCounts**: Unread message counters
- **Loading states**: UI loading indicators for various operations
- **Error handling**: Centralized error state management

### Message Operations
- **Message CRUD**: Add, update, remove, and retrieve messages
- **Approval workflows**: Handle approval request status updates
- **Streaming support**: Real-time message segment processing
- **Pagination**: Message history pagination with cursors

## Usage Example

```typescript
import { useMingoMessagesStore } from './mingo-messages-store'

function ChatComponent({ dialogId }: { dialogId: string }) {
  const {
    getMessages,
    addMessage,
    setTyping,
    getUnread,
    setActiveDialogId,
    getOrCreateAccumulator
  } = useMingoMessagesStore()

  // Get messages for current dialog
  const messages = getMessages(dialogId)
  const unreadCount = getUnread(dialogId)

  // Set up streaming message accumulator
  const accumulator = getOrCreateAccumulator(dialogId, {
    onApprove: (requestId) => console.log('Approved:', requestId),
    onReject: (requestId) => console.log('Rejected:', requestId)
  })

  // Add new message
  const handleSendMessage = (content: string) => {
    addMessage(dialogId, {
      id: crypto.randomUUID(),
      role: 'user',
      content,
      timestamp: Date.now()
    })
  }

  // Set active dialog and clear unread
  const handleSelectDialog = () => {
    setActiveDialogId(dialogId)
    resetUnread(dialogId)
  }

  return (
    <div>
      <h3>Messages ({unreadCount} unread)</h3>
      {messages.map(message => (
        <div key={message.id}>{message.content}</div>
      ))}
    </div>
  )
}
```