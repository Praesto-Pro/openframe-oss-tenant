<!-- source-hash: 0bd2f6d467262272da39e4f2c9dd53d1 -->
A React modal component for selecting devices to run test scripts on, with search, organization filtering, and platform compatibility checking.

## Key Components

- **TestScriptModal** - Main modal component for device selection
- **SelectedTestDevice** - Interface defining the selected device structure with `agentToolId` and `deviceName`
- **TestScriptModalProps** - Props interface including `supportedPlatforms` array for filtering compatible devices

## Key Features

- **Platform Filtering** - Only shows devices compatible with the script's supported platforms
- **Real-time Search** - Debounced search by device name or OS type
- **Organization Filtering** - Multi-select dropdown to filter devices by organization
- **Device Status Validation** - Only displays online devices with Tactical RMM agents
- **Request Cancellation** - Uses AbortController to prevent race conditions

## Usage Example

```typescript
import { TestScriptModal, SelectedTestDevice } from './test-script-modal'

function ScriptRunner() {
  const [isModalOpen, setIsModalOpen] = useState(false)
  
  const handleDeviceSelected = (device: SelectedTestDevice) => {
    // Run script on selected device
    console.log(`Running on ${device.deviceName} (Agent: ${device.agentToolId})`)
  }
  
  return (
    <TestScriptModal
      isOpen={isModalOpen}
      onClose={() => setIsModalOpen(false)}
      onDeviceSelected={handleDeviceSelected}
      supportedPlatforms={['windows', 'linux']}
    />
  )
}
```

The modal handles GraphQL queries to fetch devices, applies client-side filtering, and validates that selected devices have the necessary Tactical RMM agent for script execution.