<!-- source-hash: a2786d8ad336d1b941f7cef108111bd9 -->
Custom React hook that manages test script execution across multiple devices with real-time progress tracking and output streaming.

## Key Components

- **useTestRuns** - Main hook that orchestrates test execution lifecycle
- **testRuns** - Array of test run data with status, output, and timing information
- **handleRunTest** - Executes scripts on selected devices via tactical API
- **handleStopRun** - Aborts running tests and cleans up resources
- **Timer Management** - Real-time elapsed time tracking with automatic cleanup
- **Abort Controllers** - Request cancellation and resource management

## Usage Example

```typescript
import { useTestRuns } from './use-test-runs'

function TestScriptManager() {
  const getFormValues = () => ({
    shell: 'bash',
    script_body: 'echo "Hello World"',
    default_timeout: 30,
    run_as_user: 'root',
    args: [{ key: 'param1', value: 'value1' }],
    env_vars: [{ key: 'NODE_ENV', value: 'test' }]
  })

  const { testRuns, handleRunTest, handleStopRun } = useTestRuns(getFormValues)

  const runOnDevice = async () => {
    await handleRunTest({
      deviceName: 'server-01',
      agentToolId: 'agent-123'
    })
  }

  return (
    <div>
      {testRuns.map(run => (
        <div key={run.id}>
          <span>{run.deviceName}: {run.status}</span>
          <button onClick={() => handleStopRun(run.id)}>Stop</button>
        </div>
      ))}
    </div>
  )
}
```

The hook automatically handles cleanup of timers and abort controllers on unmount, provides real-time status updates, and formats script output from various response types.