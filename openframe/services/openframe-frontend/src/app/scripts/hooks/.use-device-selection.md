<!-- source-hash: 43d0aaf7bbbd807dd726f94fec7ad773 -->
A React hook that manages device selection state for multi-device operations, providing methods to toggle individual devices, select all visible devices, and clear selections.

## Key Components

- **useDeviceSelection** - Main hook that returns selection state and control methods
- **selectedIds** - Set containing IDs of currently selected devices
- **toggleSelect** - Function to add/remove individual devices from selection
- **selectAllDisplayed** - Function to select all devices from a given array
- **clearSelection** - Function to clear all selected devices
- **selectedCount** - Computed count of selected devices

## Usage Example

```typescript
import { useDeviceSelection } from './hooks/use-device-selection'
import type { Device } from '../devices/types/device.types'

function DeviceList({ devices }: { devices: Device[] }) {
  const {
    selectedIds,
    selectedCount,
    toggleSelect,
    selectAllDisplayed,
    clearSelection
  } = useDeviceSelection()

  return (
    <div>
      <div>
        Selected: {selectedCount} devices
        <button onClick={() => selectAllDisplayed(devices)}>
          Select All
        </button>
        <button onClick={clearSelection}>
          Clear Selection
        </button>
      </div>
      
      {devices.map(device => (
        <div key={device.id}>
          <input
            type="checkbox"
            checked={selectedIds.has(device.id)}
            onChange={() => toggleSelect(device.id)}
          />
          {device.name}
        </div>
      ))}
    </div>
  )
}
```

The hook uses `getDevicePrimaryId` helper to ensure consistent ID handling across the selection system.