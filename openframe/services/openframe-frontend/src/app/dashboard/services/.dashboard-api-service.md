<!-- source-hash: bfa4cc2523e676dc2ef14ef53511f4a9 -->
A singleton service that fetches and processes dashboard statistics for both device monitoring and chat support metrics through GraphQL API calls.

## Key Components

### Types
- **`DashboardDeviceStats`** - Device statistics with counts and percentages for active/inactive devices
- **`DashboardChatStats`** - Chat support statistics including ticket counts, resolution times, and ratings
- **`DeviceFiltersResponse`** & **`ChatStatsResponse`** - Internal GraphQL response types

### Main Service
- **`DashboardApiService`** - Singleton service class with GraphQL query methods
- **`fetchDeviceStats()`** - Retrieves device online/offline statistics with percentage calculations
- **`fetchChatStats()`** - Fetches SaaS chat support metrics including resolution times and ratings
- **`dashboardApiService`** - Exported singleton instance

## Usage Example

```typescript
import { dashboardApiService } from './dashboard-api-service'

// Fetch device statistics
const deviceStats = await dashboardApiService.fetchDeviceStats()
console.log(`${deviceStats.total} devices total (${deviceStats.activePercentage}% active)`)

// Fetch chat statistics (SaaS mode)
const chatStats = await dashboardApiService.fetchChatStats()
console.log(`${chatStats.resolved} tickets resolved, avg time: ${chatStats.avgResolveTime}`)

// Error handling
try {
  const stats = await dashboardApiService.fetchDeviceStats()
  // Process stats...
} catch (error) {
  console.error('Dashboard stats failed:', error.message)
}
```

The service uses the singleton pattern to ensure consistent API client usage and includes proper error handling with descriptive error messages for debugging dashboard data issues.